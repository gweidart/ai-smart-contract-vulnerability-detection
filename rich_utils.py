from rich.console import Console
from rich.theme import Theme
from rich.table import Table
from rich.progress import Progress, BarColumn, TimeRemainingColumn, TextColumn

# Define a custom theme
custom_theme = Theme({
    "progress.description": "bold magenta",
    "progress.bar": "green",
    "progress.percentage": "bold blue",
    "progress.remaining": "bold red",
    "progress.completed": "bold yellow",
})

# Create a console with the custom theme
console = Console(theme=custom_theme)

# Create a table for debug messages
debug_table = Table(title="Debug", box=None)
debug_table.add_column("Message", justify="left")

def add_debug_message(message):
    debug_table.add_row(message)

def create_progress_bar():
    return Progress(
        TextColumn("[progress.description]{task.description}"),
        BarColumn(bar_width=None),
        TextColumn("[progress.percentage]{task.percentage:>3.0f}%"),
        TimeRemainingColumn(),
        console=console,
    )
