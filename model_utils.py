# model_utils.py

import os
from datetime import datetime
import joblib
from rich_utils import add_debug_message

def save_model(model, directory='./models', model_name='model'):
    try:
        if not os.path.exists(directory):
            os.makedirs(directory)
        
        # Create a unique filename using the current timestamp
        timestamp = datetime.now().strftime('%Y%m%d_%H%M%S')
        filename = os.path.join(directory, f'{model_name}_{timestamp}.joblib')
        
        joblib.dump(model, filename)
        add_debug_message(f"[bold green]Model saved successfully as {filename}")
    except Exception as e:
        add_debug_message(f"[bold red]Error saving model: {e}")
